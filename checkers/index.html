<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Checkers</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <main id="app">
      <table class="mx-auto mt-5" style="width: 800px">
        <tr v-for="(row, y) of board">
          <td
            v-for="(column, x) of row"
            :class="{
              'bg-secondary': (x + y) % 2, 'bg-white': !((x + y) % 2)
            }"
            style="height: 100px"
            :style="{cursor: (!selectedPiece && column === 'red') || (selectedPiece && isValidMove(x, y)) ? 'pointer' : 'unset'}"
          >
            <svg v-if="column" width="100" height="100">
              <circle r="40" cx="50" cy="50" :fill="column"></circle>
            </svg>
          </td>
        </tr>
      </table>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<script type="module">
  import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

  createApp({
    data() {
      return {
        board: [
          [0, "black", 0, "black", 0, "black", 0, "black"],
          ["black", 0, "black", 0, "black", 0, "black", 0],
          [0, "black", 0, "black", 0, "black", 0, "black"],
          [0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0],
          ["red", 0, "red", 0, "red", 0, "red", 0],
          [0, "red", 0, "red", 0, "red", 0, "red"],
          ["red", 0, "red", 0, "red", 0, "red", 0],
        ],
        selectedPiece: null,
      };
    },
    computed: {},
    methods: {
      isValidMove(x, y) {
        return false; // todo
      },
    },
  }).mount("#app");
</script>
