<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Checkers</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <main id="app" style="height: 100vh; overflow: hidden">
      <div
        style="
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
        "
      >
        <table class="m-auto" :style="{width}">
          <tr v-for="(row, y) of board">
            <td
              v-for="(column, x) of row"
              :class="{
                'bg-secondary': (x + y) % 2, 'bg-white': !((x + y) % 2)
              }"
              :style="{
                cursor: isValidMove(x, y) ? 'pointer' : 'unset',
                height: width/8 + 'px'
              }"
            >
              <svg v-if="column" :width="width/8" height="width/8">
                <circle
                  :r="(width/16)*0.8"
                  :cx="width/16"
                  :cy="width/16"
                  :fill="column"
                ></circle>
              </svg>
            </td>
          </tr>
        </table>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<script type="module">
  import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

  createApp({
    data() {
      return {
        board: [
          [0, "black", 0, "black", 0, "black", 0, "black"],
          ["black", 0, "black", 0, "black", 0, "black", 0],
          [0, "black", 0, "black", 0, "black", 0, "black"],
          [0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0],
          ["red", 0, "red", 0, "red", 0, "red", 0],
          [0, "red", 0, "red", 0, "red", 0, "red"],
          ["red", 0, "red", 0, "red", 0, "red", 0],
        ],
        selectedPiece: null,
        width: 800,
      };
    },
    mounted() {
      this.width = Math.min(window.innerWidth, window.innerHeight);
    },
    computed: {},
    methods: {
      isValidMove(x, y) {
        if (!this.selectedPiece && this.board[y][x] === "red") {
          return true;
        }
        return false; // todo
      },
    },
  }).mount("#app");
</script>
